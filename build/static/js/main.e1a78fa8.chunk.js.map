{"version":3,"sources":["components/Message/Message.module.scss","domain/Chat/Messages/Messages.module.scss","domain/Chat/WriteMessage/WriteMessage.module.scss","domain/Chat/TopBar/TopBar.module.scss","views/Home/Home.module.scss","domain/Chat/Chat.module.scss","components/RoundAvatar/RoundAvatar.module.scss","components/SendIcon/SendIcon.module.scss","assets/logo.png","components/RoundAvatar/index.tsx","components/RoundAvatar/RoundAvatar.tsx","domain/Chat/TopBar/index.tsx","domain/Chat/TopBar/TopBar.tsx","components/Message/index.tsx","components/Message/Message.tsx","domain/Chat/Messages/index.tsx","domain/Chat/Messages/Messages.tsx","components/SendIcon/index.tsx","components/SendIcon/SendIcon.tsx","domain/Chat/WriteMessage/index.tsx","domain/Chat/WriteMessage/WriteMessage.tsx","context/Messages/Messages.tsx","services/MessageService.tsx","domain/Chat/index.tsx","domain/Chat/Chat.tsx","views/Home/index.tsx","views/Home/Home.tsx","domain/App/index.tsx","domain/App/App.tsx","reportWebVitals.ts","index.tsx"],"names":["module","exports","RoundAvatar","className","styles","root","src","logo","TopBar","title","Message","text","direction","level","right","left","error","message","Messages","messages","waiting","endRef","container","map","uuid","ref","SendIcon","enableBackground","height","viewBox","width","xmlns","fill","d","WriteMessage","onMessageWritten","useState","setText","writeMessage","onKeyDown","e","key","value","onChange","target","type","onClick","preventDefault","send","MessagesContext","React","createContext","Consumer","reducer","state","action","newState","slice","push","MessagesProvider","children","useReducer","dispatch","Provider","api","this","content","fetch","method","body","JSON","stringify","headers","Accept","res","json","data","answer","Chat","createRef","useContext","addMessage","setWaiting","useEffect","current","scrollIntoView","behavior","scrollToBottom","MessageService","then","catch","finally","Home","App","Helmet","name","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e1a78fa8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Message_root__3meBY\",\"right\":\"Message_right__3_GWt\",\"message\":\"Message_message__1pzJk\",\"left\":\"Message_left__3hhow\",\"error\":\"Message_error__3Wo1B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Messages_root__37dNX\",\"container\":\"Messages_container__2PdpM\",\"messages\":\"Messages_messages__11GMR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"WriteMessage_root__2IqdY\",\"message\":\"WriteMessage_message__EpF3j\",\"send\":\"WriteMessage_send__1rjLC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TopBar_root__1axVs\",\"title\":\"TopBar_title__2gpIU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Home_root__1xDSv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Chat_root__zxGZa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"RoundAvatar_root__3dHif\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"SendIcon_root__1EWK8\"};","export default __webpack_public_path__ + \"static/media/logo.80d93161.png\";","import RoundAvatar from './RoundAvatar';\n\nexport default RoundAvatar;\n","import React, { FunctionComponent } from 'react';\nimport styles from './RoundAvatar.module.scss';\n\nimport logo from '../../assets/logo.png';\n\nconst RoundAvatar: FunctionComponent = () => {\n  return (\n    <div className={styles.root}>\n      <img src={logo} />\n    </div>\n  );\n};\n\nexport default RoundAvatar;\n","import TopBar from './TopBar';\n\nexport default TopBar;\n","import React, { FunctionComponent } from 'react';\nimport styles from './TopBar.module.scss';\n\nimport RoundAvatar from '../../../components/RoundAvatar';\n\nconst TopBar: FunctionComponent = () => {\n  return (\n    <div className={styles.root}>\n      <RoundAvatar />\n      <p className={styles.title}>TigreBot</p>\n    </div>\n  );\n};\n\nexport default TopBar;\n","import Message from './Message';\n\nexport default Message;\n","import React, { FunctionComponent } from 'react';\nimport styles from './Message.module.scss';\n\ninterface MessageProps {\n  text?: string;\n  direction?: 'RIGHT' | 'LEFT';\n  level?: 'ERROR' | undefined;\n}\n\nconst Message: FunctionComponent<MessageProps> = ({ text = '', direction = 'RIGHT', level }: MessageProps) => {\n  return (\n    <div\n      className={`${styles.root} ${direction == 'RIGHT' ? styles.right : styles.left} ${\n        level === 'ERROR' && styles.error\n      }`}\n    >\n      <p className={`${styles.message}`}>{text}</p>\n    </div>\n  );\n};\n\nexport default Message;\n","import Messages from './Messages';\n\nexport default Messages;\n","import React, { FunctionComponent, RefObject } from 'react';\nimport styles from './Messages.module.scss';\n\nimport { v4 as uuid } from 'uuid';\nimport Message from '../../../components/Message';\n\ninterface MessagesProps {\n  messages: Array<Record<string, any>>;\n  waiting: boolean;\n  endRef?: RefObject<HTMLDivElement>;\n}\n\nconst Messages: FunctionComponent<MessagesProps> = ({ messages = [], waiting = false, endRef }: MessagesProps) => {\n  return (\n    <div className={styles.root}>\n      <div className={styles.container}>\n        <div className={styles.messages}>\n          {messages.map((message) => (\n            <Message key={uuid()} text={message.text} direction={message.direction} level={message.level} />\n          ))}\n          {waiting && <Message text=\"...\" direction=\"LEFT\" />}\n          <div ref={endRef} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Messages;\n","import SendIcon from './SendIcon';\n\nexport default SendIcon;\n","import React, { FunctionComponent } from 'react';\nimport styles from './SendIcon.module.scss';\n\nconst SendIcon: FunctionComponent = () => {\n  return (\n    <svg\n      className={styles.root}\n      enableBackground=\"new 0 0 24 24\"\n      height=\"512\"\n      viewBox=\"0 0 24 24\"\n      width=\"512\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      fill=\"white\"\n    >\n      <path d=\"m8.75 17.612v4.638c0 .324.208.611.516.713.077.025.156.037.234.037.234 0 .46-.11.604-.306l2.713-3.692z\" />\n      <path d=\"m23.685.139c-.23-.163-.532-.185-.782-.054l-22.5 11.75c-.266.139-.423.423-.401.722.023.3.222.556.505.653l6.255 2.138 13.321-11.39-10.308 12.419 10.483 3.583c.078.026.16.04.242.04.136 0 .271-.037.39-.109.19-.116.319-.311.352-.53l2.75-18.5c.041-.28-.077-.558-.307-.722z\" />\n    </svg>\n  );\n};\n\nexport default SendIcon;\n","import WriteMessage from './WriteMessage';\n\nexport default WriteMessage;\n","import React, { FunctionComponent, useState } from 'react';\nimport styles from './WriteMessage.module.scss';\nimport SendIcon from '../../../components/SendIcon';\n\nexport type OnMessageWritten = (text: string) => void;\n\ninterface WriteMessageProps {\n  onMessageWritten?: OnMessageWritten;\n}\n\nconst WriteMessage: FunctionComponent<WriteMessageProps> = ({ onMessageWritten }: WriteMessageProps) => {\n  const [text, setText] = useState('');\n\n  const writeMessage = () => {\n    if (onMessageWritten && text !== '') onMessageWritten(text);\n    setText('');\n  };\n\n  return (\n    <div className={styles.root}>\n      <input\n        onKeyDown={(e) => {\n          if (e.key === 'Enter') writeMessage();\n        }}\n        value={text}\n        onChange={(e) => setText(e.target.value)}\n        className={styles.message}\n        type=\"text\"\n      />\n      <div\n        onClick={(e) => {\n          writeMessage();\n          e.preventDefault();\n        }}\n        className={styles.send}\n      >\n        <SendIcon />\n      </div>\n    </div>\n  );\n};\n\nexport default WriteMessage;\n","import React, { FunctionComponent, ReactNode, useReducer } from 'react';\n\nexport type DirectionType = 'LEFT' | 'RIGHT';\nexport type MessageLevel = 'ERROR' | undefined;\n\nexport type MessageType = {\n  text: string;\n  direction: DirectionType;\n  level?: MessageLevel;\n};\n\nexport type MessagesType = Array<MessageType>;\n\nexport type MessagesAction = {\n  type: 'ADD';\n  message: MessageType;\n};\n\nexport const MessagesContext = React.createContext<{\n  messages: MessagesType;\n  dispatch?: React.Dispatch<MessagesAction>;\n}>({\n  messages: [],\n});\n\nexport const MessagesConsumer = MessagesContext.Consumer;\n\ninterface MessagesProviderProps {\n  children?: ReactNode;\n  messages?: MessagesType;\n}\n\nfunction reducer(state: MessagesType, action: MessagesAction): MessagesType {\n  const newState = state.slice();\n\n  switch (action.type) {\n    case 'ADD':\n      newState.push(action.message);\n      return newState;\n  }\n}\n\nexport const MessagesProvider: FunctionComponent<MessagesProviderProps> = ({\n  children,\n  messages = [],\n}: MessagesProviderProps) => {\n  const [state, dispatch] = useReducer(reducer, messages);\n\n  return (\n    <MessagesContext.Provider\n      value={{\n        messages: state,\n        dispatch,\n      }}\n    >\n      {children}\n    </MessagesContext.Provider>\n  );\n};\n","function timeout(ms: number) {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n}\n\nclass MessageService {\n  api: string;\n\n  constructor() {\n    this.api = '/api/v1';\n  }\n\n  async send(content: string) {\n    try {\n      const res = await fetch(`${this.api}/question/`, {\n        method: 'POST',\n        body: JSON.stringify({\n          content,\n        }),\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n        },\n      });\n\n      const data = await res.json();\n\n      return {\n        text: data.answer,\n        direction: 'LEFT',\n      };\n    } catch (err) {\n      return {\n        text: 'Ha ocurrido un problema, intentelo de nuevo mas tarde.',\n        level: 'ERROR',\n        direction: 'LEFT',\n      };\n    }\n  }\n}\n\nexport default new MessageService();\n","import Chat from './Chat';\n\nexport default Chat;\n","import React, { FunctionComponent, useContext, useEffect, useState } from 'react';\nimport styles from './Chat.module.scss';\n\nimport TopBar from './TopBar';\nimport Messages from './Messages';\nimport WriteMessage from './WriteMessage';\n\nimport { MessagesContext } from '../../context/Messages';\nimport MessageService from '../../services/MessageService';\n\nconst Chat: FunctionComponent = () => {\n  const endRef = React.createRef<HTMLDivElement>();\n\n  const scrollToBottom = () => {\n    if (endRef) endRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  const { messages, dispatch } = useContext(MessagesContext);\n\n  const addMessage = (message: any) => {\n    if (dispatch) dispatch({ type: 'ADD', message });\n  };\n\n  const [waiting, setWaiting] = useState(false);\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  return (\n    <div className={styles.root}>\n      <TopBar />\n      <Messages endRef={endRef} messages={messages} waiting={waiting} />\n      <WriteMessage\n        onMessageWritten={(text: string) => {\n          addMessage({\n            text,\n            direction: 'RIGHT',\n          });\n\n          setWaiting(true);\n          MessageService.send(text)\n            .then((message) => addMessage(message))\n            .catch(() =>\n              addMessage({\n                text: 'Error con el servidor',\n                level: 'ERROR',\n                direction: 'LEFT',\n              }),\n            )\n            .finally(() => setWaiting(false));\n        }}\n      />\n    </div>\n  );\n};\n\nexport default Chat;\n","import Home from './Home';\n\nexport default Home;\n","import React, { FunctionComponent } from 'react';\nimport styles from './Home.module.scss';\n\nimport Chat from '../../domain/Chat';\n\nconst Home: FunctionComponent = () => {\n  return (\n    <div className={styles.root}>\n      <Chat />\n    </div>\n  );\n};\n\nexport default Home;\n","import App from './App';\n\nexport default App;\n","import React, { FunctionComponent } from 'react';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\nimport { Helmet } from 'react-helmet';\nimport Home from '../../views/Home';\nimport { MessagesProvider } from '../../context/Messages';\n\nconst TITLE = 'TigreBot';\nconst DESCRIPTION = 'TigreBot';\n\nconst App: FunctionComponent = () => {\n  return (\n    <MessagesProvider>\n      <Helmet>\n        <title>{TITLE}</title>\n        <meta name=\"description\" content={DESCRIPTION} />\n      </Helmet>\n      <BrowserRouter>\n        <Switch>\n          <Route path=\"/\" component={Home} />\n        </Switch>\n      </BrowserRouter>\n    </MessagesProvider>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './domain/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}