(this["webpackJsonptigre-bot"]=this["webpackJsonptigre-bot"]||[]).push([[0],{10:function(e,t,n){e.exports={root:"Message_root__3meBY",right:"Message_right__3_GWt",message:"Message_message__1pzJk",left:"Message_left__3hhow",error:"Message_error__3Wo1B"}},12:function(e,t,n){e.exports={root:"Messages_root__37dNX",container:"Messages_container__2PdpM",messages:"Messages_messages__11GMR"}},13:function(e,t,n){e.exports={root:"WriteMessage_root__2IqdY",message:"WriteMessage_message__EpF3j",send:"WriteMessage_send__1rjLC"}},15:function(e,t,n){e.exports={root:"TopBar_root__1axVs",title:"TopBar_title__2gpIU"}},25:function(e,t,n){e.exports={root:"Home_root__1xDSv"}},26:function(e,t,n){e.exports={root:"Chat_root__zxGZa"}},27:function(e,t,n){e.exports={root:"RoundAvatar_root__3dHif"}},28:function(e,t,n){e.exports={root:"SendIcon_root__1EWK8"}},39:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var s=n(1),r=n(0),c=n.n(r),o=n(21),a=n.n(o),i=(n(39),n(32)),u=n(3),j=n(22),d=n(25),l=n.n(d),x=n(9),h=n(26),b=n.n(h),f=n(15),g=n.n(f),p=n(27),v=n.n(p),O=n.p+"static/media/logo.80d93161.png",_=function(){return Object(s.jsx)("div",{className:v.a.root,children:Object(s.jsx)("img",{src:O})})},m=function(){return Object(s.jsxs)("div",{className:g.a.root,children:[Object(s.jsx)(_,{}),Object(s.jsx)("p",{className:g.a.title,children:"TigreBot"})]})},w=n(12),R=n.n(w),M=n(47),N=n(10),T=n.n(N),E=function(e){var t=e.text,n=void 0===t?"":t,r=e.direction,c=void 0===r?"RIGHT":r,o=e.level;return Object(s.jsx)("div",{className:"".concat(T.a.root," ").concat("RIGHT"==c?T.a.right:T.a.left," ").concat("ERROR"===o&&T.a.error),children:Object(s.jsx)("p",{className:"".concat(T.a.message),children:n})})},y=function(e){var t=e.messages,n=void 0===t?[]:t,r=e.waiting,c=void 0!==r&&r,o=e.endRef;return Object(s.jsx)("div",{className:R.a.root,children:Object(s.jsx)("div",{className:R.a.container,children:Object(s.jsxs)("div",{className:R.a.messages,children:[n.map((function(e){return Object(s.jsx)(E,{text:e.text,direction:e.direction,level:e.level},Object(M.a)())})),c&&Object(s.jsx)(E,{text:"...",direction:"LEFT"}),Object(s.jsx)("div",{ref:o})]})})})},B=n(13),C=n.n(B),F=n(28),I=n.n(F),k=function(){return Object(s.jsxs)("svg",{className:I.a.root,enableBackground:"new 0 0 24 24",height:"512",viewBox:"0 0 24 24",width:"512",xmlns:"http://www.w3.org/2000/svg",fill:"white",children:[Object(s.jsx)("path",{d:"m8.75 17.612v4.638c0 .324.208.611.516.713.077.025.156.037.234.037.234 0 .46-.11.604-.306l2.713-3.692z"}),Object(s.jsx)("path",{d:"m23.685.139c-.23-.163-.532-.185-.782-.054l-22.5 11.75c-.266.139-.423.423-.401.722.023.3.222.556.505.653l6.255 2.138 13.321-11.39-10.308 12.419 10.483 3.583c.078.026.16.04.242.04.136 0 .271-.037.39-.109.19-.116.319-.311.352-.53l2.75-18.5c.041-.28-.077-.558-.307-.722z"})]})},D=function(e){var t=e.onMessageWritten,n=Object(r.useState)(""),c=Object(x.a)(n,2),o=c[0],a=c[1],i=function(){t&&""!==o&&t(o),a("")};return Object(s.jsxs)("div",{className:C.a.root,children:[Object(s.jsx)("input",{onKeyDown:function(e){"Enter"===e.key&&i()},value:o,onChange:function(e){return a(e.target.value)},className:C.a.message,type:"text"}),Object(s.jsx)("div",{onClick:function(e){i(),e.preventDefault()},className:C.a.send,children:Object(s.jsx)(k,{})})]})},S=c.a.createContext({messages:[]});S.Consumer;function W(e,t){var n=e.slice();switch(t.type){case"ADD":return n.push(t.message),n}}var L=function(e){var t=e.children,n=e.messages,c=void 0===n?[]:n,o=Object(r.useReducer)(W,c),a=Object(x.a)(o,2),i=a[0],u=a[1];return Object(s.jsx)(S.Provider,{value:{messages:i,dispatch:u},children:t})},G=n(16),H=n.n(G),P=n(29),z=n(30),A=n(31);var J=new(function(){function e(){Object(z.a)(this,e),this.api=void 0,this.api="/api/v1"}return Object(A.a)(e,[{key:"send",value:function(){var e=Object(P.a)(H.a.mark((function e(t){var n,s;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(this.api,"/question/"),{method:"POST",body:JSON.stringify({content:t}),headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return n=e.sent,e.next=6,n.json();case 6:return s=e.sent,e.abrupt("return",{text:s.answer,direction:"LEFT"});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{text:"Ha ocurrido un problema, intentelo de nuevo mas tarde.",level:"ERROR",direction:"LEFT"});case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()),q=function(){var e=c.a.createRef(),t=Object(r.useContext)(S),n=t.messages,o=t.dispatch,a=function(e){o&&o({type:"ADD",message:e})},i=Object(r.useState)(!1),u=Object(x.a)(i,2),j=u[0],d=u[1];return Object(r.useEffect)((function(){!function(){var t;e&&(null===(t=e.current)||void 0===t||t.scrollIntoView({behavior:"smooth"}))}()}),[n]),Object(s.jsxs)("div",{className:b.a.root,children:[Object(s.jsx)(m,{}),Object(s.jsx)(y,{endRef:e,messages:n,waiting:j}),Object(s.jsx)(D,{onMessageWritten:function(e){a({text:e,direction:"RIGHT"}),d(!0),J.send(e).then((function(e){return a(e)})).catch((function(){return a({text:"Error con el servidor",level:"ERROR",direction:"LEFT"})})).finally((function(){return d(!1)}))}})]})},K=function(){return Object(s.jsx)("div",{className:l.a.root,children:Object(s.jsx)(q,{})})},V=function(){return Object(s.jsxs)(L,{children:[Object(s.jsxs)(j.a,{children:[Object(s.jsx)("title",{children:"TigreBot"}),Object(s.jsx)("meta",{name:"description",content:"TigreBot"})]}),Object(s.jsx)(i.a,{children:Object(s.jsx)(u.c,{children:Object(s.jsx)(u.a,{path:"/",component:K})})})]})},Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),s(e),r(e),c(e),o(e)}))};a.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(V,{})}),document.getElementById("root")),Y()}},[[45,1,2]]]);
//# sourceMappingURL=main.e1a78fa8.chunk.js.map